-- Tycoon Money Script with GUI
-- Place this script in StarterPlayerScripts

local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")

local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- Variables
local connection
local isRunning = false
local isMinimized = false

-- Wait for game to load
task.wait(3)

-- Create ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "MoneyScriptGUI"
screenGui.Parent = playerGui
screenGui.ResetOnSpawn = false
screenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

-- Main Frame
local mainFrame = Instance.new("Frame")
mainFrame.Name = "MainFrame"
mainFrame.Size = UDim2.new(0, 300, 0, 225)
mainFrame.Position = UDim2.new(0, 50, 0, 50)
mainFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
mainFrame.BorderSizePixel = 0
mainFrame.Active = true
mainFrame.Draggable = true
mainFrame.Parent = screenGui

-- Add rounded corners
local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 10)
corner.Parent = mainFrame

-- Title Bar
local titleBar = Instance.new("Frame")
titleBar.Name = "TitleBar"
titleBar.Size = UDim2.new(1, 0, 0, 35)
titleBar.Position = UDim2.new(0, 0, 0, 0)
titleBar.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
titleBar.BorderSizePixel = 0
titleBar.Parent = mainFrame

-- Title corner
local titleCorner = Instance.new("UICorner")
titleCorner.CornerRadius = UDim.new(0, 10)
titleCorner.Parent = titleBar

-- Fix title bar bottom corners
local titleFix = Instance.new("Frame")
titleFix.Size = UDim2.new(1, 0, 0, 10)
titleFix.Position = UDim2.new(0, 0, 1, -10)
titleFix.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
titleFix.BorderSizePixel = 0
titleFix.Parent = titleBar

-- Title Label
local titleLabel = Instance.new("TextLabel")
titleLabel.Name = "Title"
titleLabel.Size = UDim2.new(1, -70, 1, 0)
titleLabel.Position = UDim2.new(0, 10, 0, 0)
titleLabel.BackgroundTransparency = 1
titleLabel.Text = "ðŸ’° Money Farm Script"
titleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
titleLabel.TextScaled = true
titleLabel.Font = Enum.Font.GothamBold
titleLabel.TextXAlignment = Enum.TextXAlignment.Left
titleLabel.Parent = titleBar

-- Minimize Button
local minimizeButton = Instance.new("TextButton")
minimizeButton.Name = "MinimizeButton"
minimizeButton.Size = UDim2.new(0, 25, 0, 25)
minimizeButton.Position = UDim2.new(1, -60, 0, 5)
minimizeButton.BackgroundColor3 = Color3.fromRGB(255, 200, 0)
minimizeButton.BorderSizePixel = 0
minimizeButton.Text = "_"
minimizeButton.TextColor3 = Color3.fromRGB(0, 0, 0)
minimizeButton.TextScaled = true
minimizeButton.Font = Enum.Font.GothamBold
minimizeButton.Parent = titleBar

-- Minimize button corner
local minimizeCorner = Instance.new("UICorner")
minimizeCorner.CornerRadius = UDim.new(0, 12)
minimizeCorner.Parent = minimizeButton

-- Close Button
local closeButton = Instance.new("TextButton")
closeButton.Name = "CloseButton"
closeButton.Size = UDim2.new(0, 25, 0, 25)
closeButton.Position = UDim2.new(1, -30, 0, 5)
closeButton.BackgroundColor3 = Color3.fromRGB(255, 60, 60)
closeButton.BorderSizePixel = 0
closeButton.Text = "X"
closeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
closeButton.TextScaled = true
closeButton.Font = Enum.Font.GothamBold
closeButton.Parent = titleBar

-- Close button corner
local closeCorner = Instance.new("UICorner")
closeCorner.CornerRadius = UDim.new(0, 12)
closeCorner.Parent = closeButton

-- Creator Label
local creatorLabel = Instance.new("TextLabel")
creatorLabel.Name = "Creator"
creatorLabel.Size = UDim2.new(1, -20, 0, 20)
creatorLabel.Position = UDim2.new(0, 10, 0, 40)
creatorLabel.BackgroundTransparency = 1
creatorLabel.Text = "By KILASIK"
creatorLabel.TextColor3 = Color3.fromRGB(150, 150, 255)
creatorLabel.TextScaled = true
creatorLabel.Font = Enum.Font.GothamBold
creatorLabel.TextXAlignment = Enum.TextXAlignment.Left
creatorLabel.Parent = mainFrame

-- Status Label
local statusLabel = Instance.new("TextLabel")
statusLabel.Name = "Status"
statusLabel.Size = UDim2.new(1, -20, 0, 25)
statusLabel.Position = UDim2.new(0, 10, 0, 65)
statusLabel.BackgroundTransparency = 1
statusLabel.Text = "Status: Stopped"
statusLabel.TextColor3 = Color3.fromRGB(255, 100, 100)
statusLabel.TextScaled = true
statusLabel.Font = Enum.Font.Gotham
statusLabel.TextXAlignment = Enum.TextXAlignment.Left
statusLabel.Parent = mainFrame

-- Start/Stop Button
local toggleButton = Instance.new("TextButton")
toggleButton.Name = "ToggleButton"
toggleButton.Size = UDim2.new(1, -40, 0, 35)
toggleButton.Position = UDim2.new(0, 20, 0, 100)
toggleButton.BackgroundColor3 = Color3.fromRGB(0, 150, 0)
toggleButton.BorderSizePixel = 0
toggleButton.Text = "START"
toggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
toggleButton.TextScaled = true
toggleButton.Font = Enum.Font.GothamBold
toggleButton.Parent = mainFrame

-- Button corner
local buttonCorner = Instance.new("UICorner")
buttonCorner.CornerRadius = UDim.new(0, 8)
buttonCorner.Parent = toggleButton

-- Info Label
local infoLabel = Instance.new("TextLabel")
infoLabel.Name = "Info"
infoLabel.Size = UDim2.new(1, -20, 0, 25)
infoLabel.Position = UDim2.new(0, 10, 0, 145)
infoLabel.BackgroundTransparency = 1
infoLabel.Text = "Press F key or click START to begin money farming"
infoLabel.TextColor3 = Color3.fromRGB(180, 180, 180)
infoLabel.TextScaled = true
infoLabel.Font = Enum.Font.Gotham
infoLabel.TextWrapped = true
infoLabel.Parent = mainFrame

-- Discord Link Label
local discordLinkLabel = Instance.new("TextLabel")
discordLinkLabel.Name = "DiscordLink"
discordLinkLabel.Size = UDim2.new(1, -20, 0, 20)
discordLinkLabel.Position = UDim2.new(0, 10, 0, 175)
discordLinkLabel.BackgroundTransparency = 1
discordLinkLabel.Text = "https://discord.gg/PHxN8nadgk"
discordLinkLabel.TextColor3 = Color3.fromRGB(150, 200, 255)
discordLinkLabel.TextScaled = true
discordLinkLabel.Font = Enum.Font.Gotham
discordLinkLabel.TextXAlignment = Enum.TextXAlignment.Center
discordLinkLabel.Parent = mainFrame

-- Discord Link Button
local discordButton = Instance.new("TextButton")
discordButton.Name = "DiscordButton"
discordButton.Size = UDim2.new(1, -40, 0, 25)
discordButton.Position = UDim2.new(0, 20, 0, 195)
discordButton.BackgroundColor3 = Color3.fromRGB(88, 101, 242)
discordButton.BorderSizePixel = 0
discordButton.Text = "ðŸ”— Join Discord Server"
discordButton.TextColor3 = Color3.fromRGB(255, 255, 255)
discordButton.TextScaled = true
discordButton.Font = Enum.Font.GothamBold
discordButton.Parent = mainFrame

-- Discord button corner
local discordCorner = Instance.new("UICorner")
discordCorner.CornerRadius = UDim.new(0, 8)
discordCorner.Parent = discordButton

-- Money giving function
local function giveMoney()
    task.spawn(function()
        local success, err = pcall(function()
            local args = {
                [1] = player
            }
            game:GetService("ReplicatedStorage").Knit.Services.TycoonService.RF.PayIncome:InvokeServer(unpack(args))
        end)
        
        if not success then
            print("Money script error:", err)
        end
    end)
end

-- Minimize function
local function toggleMinimize()
    if isMinimized then
        -- Restore
        mainFrame.Size = UDim2.new(0, 300, 0, 225)
        minimizeButton.Text = "_"
        isMinimized = false
        
        -- Show all elements
        creatorLabel.Visible = true
        statusLabel.Visible = true
        toggleButton.Visible = true
        infoLabel.Visible = true
        discordLinkLabel.Visible = true
        discordButton.Visible = true
    else
        -- Minimize
        mainFrame.Size = UDim2.new(0, 300, 0, 35)
        minimizeButton.Text = "â–¡"
        isMinimized = true
        
        -- Hide all elements except title bar
        creatorLabel.Visible = false
        statusLabel.Visible = false
        toggleButton.Visible = false
        infoLabel.Visible = false
        discordLinkLabel.Visible = false
        discordButton.Visible = false
    end
end

-- Toggle function
local function toggleMoney()
    if isRunning then
        -- Stop
        if connection then
            connection:Disconnect()
            connection = nil
        end
        isRunning = false
        statusLabel.Text = "Status: Stopped"
        statusLabel.TextColor3 = Color3.fromRGB(255, 100, 100)
        toggleButton.Text = "START"
        toggleButton.BackgroundColor3 = Color3.fromRGB(0, 150, 0)
        print("Money farm stopped")
    else
        -- Start
        isRunning = true
        statusLabel.Text = "Status: Running"
        statusLabel.TextColor3 = Color3.fromRGB(100, 255, 100)
        toggleButton.Text = "STOP"
        toggleButton.BackgroundColor3 = Color3.fromRGB(150, 0, 0)
        
        connection = RunService.Heartbeat:Connect(function()
            giveMoney()
        end)
        print("Money farm started")
    end
end

-- Button connections
toggleButton.MouseButton1Click:Connect(function()
    toggleMoney()
end)

minimizeButton.MouseButton1Click:Connect(function()
    toggleMinimize()
end)

closeButton.MouseButton1Click:Connect(function()
    -- Stop everything
    if connection then
        connection:Disconnect()
        connection = nil
    end
    isRunning = false
    
    -- Destroy GUI
    screenGui:Destroy()
    print("Money script closed")
end)

discordButton.MouseButton1Click:Connect(function()
    setclipboard("https://discord.gg/PHxN8nadgk")
    print("Discord link copied to clipboard: https://discord.gg/PHxN8nadgk")
end)

-- Keyboard shortcut
UserInputService.InputBegan:Connect(function(input, gameProcessed)
    if not gameProcessed and input.KeyCode == Enum.KeyCode.F then
        toggleMoney()
    end
end)

-- Hover effects
toggleButton.MouseEnter:Connect(function()
    if isRunning then
        toggleButton.BackgroundColor3 = Color3.fromRGB(180, 0, 0)
    else
        toggleButton.BackgroundColor3 = Color3.fromRGB(0, 180, 0)
    end
end)

toggleButton.MouseLeave:Connect(function()
    if isRunning then
        toggleButton.BackgroundColor3 = Color3.fromRGB(150, 0, 0)
    else
        toggleButton.BackgroundColor3 = Color3.fromRGB(0, 150, 0)
    end
end)

closeButton.MouseEnter:Connect(function()
    closeButton.BackgroundColor3 = Color3.fromRGB(255, 80, 80)
end)

closeButton.MouseLeave:Connect(function()
    closeButton.BackgroundColor3 = Color3.fromRGB(255, 60, 60)
end)

minimizeButton.MouseEnter:Connect(function()
    minimizeButton.BackgroundColor3 = Color3.fromRGB(255, 220, 0)
end)

minimizeButton.MouseLeave:Connect(function()
    minimizeButton.BackgroundColor3 = Color3.fromRGB(255, 200, 0)
end)

discordButton.MouseEnter:Connect(function()
    discordButton.BackgroundColor3 = Color3.fromRGB(108, 121, 255)
end)

discordButton.MouseLeave:Connect(function()
    discordButton.BackgroundColor3 = Color3.fromRGB(88, 101, 242)
end)

print("Tycoon Money Script loaded successfully!")
print("Press F to toggle or use the GUI buttons")
print("GUI is draggable - click and drag the title bar")
print("Discord link: https://discord.gg/PHxN8nadgk")
